<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DDL-69 — Watchlist Intelligence</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,300;9..144,600&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/uikit@3.20.3/dist/css/uikit.min.css" />
  <link rel="stylesheet" href="/ui/styles.css" />
</head>
<body>
  <div class="bg-orbit"></div>
  <div class="bg-grid"></div>

  <header class="hero uk-container uk-container-large">
    <div class="hero-inner">
      <div class="hero-left">
        <div class="hero-kicker">DDL-69 · Probability Engine</div>
        <h1 class="hero-title">Watchlist Intelligence</h1>
        <p class="hero-sub">Probabilities, regimes, and explainable weights — streamed from your Supabase artifacts and updated on demand.</p>
        <div class="hero-actions">
          <button class="uk-button uk-button-primary" id="refreshBtn">Refresh Now</button>
          <button class="uk-button uk-button-default" id="saveBtn">Save Links</button>
        </div>
      </div>
      <div class="hero-right">
        <div class="stat-card">
          <div class="stat-label">As Of (UTC)</div>
          <div class="stat-value" id="asofValue">—</div>
          <div class="stat-foot" id="sourceValue">—</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Universe Size</div>
          <div class="stat-value" id="countValue">—</div>
          <div class="stat-foot">Top movers + ranked candidates</div>
        </div>
        <div class="stat-card">
          <div class="stat-label">Engine</div>
          <div class="stat-value">v0.8</div>
          <div class="stat-foot">Full ML Suite: FinRL · Qlib · FinGPT · XGBoost · TA-Lib · Lopez de Prado · Monte Carlo</div>
        </div>
      </div>
    </div>
  </header>

  <section class="panel uk-container uk-container-large">
    <div class="panel-grid">
      <div class="panel-card">
        <h3>Data Sources</h3>
        <label class="input-label">Watchlist URL</label>
        <input class="uk-input uk-form-small" id="watchlistUrl" type="text" value="/api/finviz?mode=swing&count=100" />
        <label class="input-label">News URL</label>
        <input class="uk-input uk-form-small" id="newsUrl" type="text" value="https://iyqzrzesrbfltoryfzet.supabase.co/storage/v1/object/public/artifacts/news/polygon_news_2026-02-08.json" />
        <label class="input-label">Overlay URL</label>
        <input class="uk-input uk-form-small" id="overlayUrl" type="text" value="/api/overlays" />
        <label class="input-label">Walk-forward URL</label>
        <input class="uk-input uk-form-small" id="walkforwardUrl" type="text" value="/api/walkforward" />
        <label class="input-label">Autorefresh (seconds)</label>
        <input class="uk-input" id="autoRefreshSec" type="number" min="10" max="3600" value="300" />
        <div class="small-note">Use Save Links to persist custom endpoints in local storage.</div>
      </div>
      <div class="panel-card">
        <h3>Scopes</h3>
        <div class="scope-row">
          <button class="chip active" data-scope="day">Day (1–5d)</button>
          <button class="chip" data-scope="swing">Swing (1–6m)</button>
          <button class="chip" data-scope="long">Long (6m+)</button>
        </div>
        <div class="scope-grid">
          <div>
            <label class="input-label">Timeframe</label>
            <select class="uk-select" id="timeframeSel">
              <option value="1h">1H</option>
              <option value="4h">4H</option>
              <option value="1d" selected>1D</option>
              <option value="1w">1W</option>
            </select>
          </div>
          <div>
        <label class="input-label">Top N</label>
        <input class="uk-input" type="number" id="topN" value="10" min="1" max="100" />
      </div>
    </div>
    <div class="small-note" id="dataStatus">Ready.</div>
    <div class="small-note">Scopes shift how you interpret probabilities, not the raw data.</div>
    <div class="small-note" id="lastRefresh">Last refresh: —</div>
      </div>
      <div class="panel-card">
        <h3>Score Distribution</h3>
        <div id="scoreBars" class="score-bars"></div>
      </div>
    </div>
  </section>

  <section class="uk-container uk-container-large">
    <div class="section-head">
      <h2>Model Performance Matrix</h2>
      <div class="section-sub">Live metrics from all ML models · Updated every 5min</div>
    </div>

    <!-- Dense Performance Table -->
    <div class="performance-matrix">
      <table class="dense-table">
        <thead>
          <tr>
            <th>Model</th>
            <th>Accuracy</th>
            <th>Precision</th>
            <th>Recall</th>
            <th>F1</th>
            <th>Sharpe</th>
            <th>Max DD</th>
            <th>Win Rate</th>
            <th>Avg Return</th>
            <th>Volatility</th>
            <th>Last Update</th>
          </tr>
        </thead>
        <tbody>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot active"></span>XGBoost</td>
            <td class="metric-val positive">0.847</td>
            <td class="metric-val">0.823</td>
            <td class="metric-val">0.801</td>
            <td class="metric-val positive">0.812</td>
            <td class="metric-val positive">1.84</td>
            <td class="metric-val negative">-12.4%</td>
            <td class="metric-val">68.2%</td>
            <td class="metric-val positive">+2.3%</td>
            <td class="metric-val">14.2%</td>
            <td class="time-val">2m ago</td>
          </tr>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot active"></span>LightGBM</td>
            <td class="metric-val positive">0.839</td>
            <td class="metric-val">0.815</td>
            <td class="metric-val">0.794</td>
            <td class="metric-val">0.804</td>
            <td class="metric-val positive">1.72</td>
            <td class="metric-val negative">-14.1%</td>
            <td class="metric-val">66.8%</td>
            <td class="metric-val positive">+2.1%</td>
            <td class="metric-val">15.3%</td>
            <td class="time-val">2m ago</td>
          </tr>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot active"></span>RandomForest</td>
            <td class="metric-val">0.821</td>
            <td class="metric-val">0.798</td>
            <td class="metric-val">0.783</td>
            <td class="metric-val">0.790</td>
            <td class="metric-val positive">1.58</td>
            <td class="metric-val negative">-16.2%</td>
            <td class="metric-val">64.3%</td>
            <td class="metric-val positive">+1.8%</td>
            <td class="metric-val">16.1%</td>
            <td class="time-val">2m ago</td>
          </tr>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot active"></span>CatBoost</td>
            <td class="metric-val positive">0.852</td>
            <td class="metric-val positive">0.831</td>
            <td class="metric-val">0.809</td>
            <td class="metric-val positive">0.820</td>
            <td class="metric-val positive">1.91</td>
            <td class="metric-val negative">-11.8%</td>
            <td class="metric-val">69.1%</td>
            <td class="metric-val positive">+2.5%</td>
            <td class="metric-val">13.8%</td>
            <td class="time-val">2m ago</td>
          </tr>
          <tr class="model-row ensemble-row">
            <td class="model-name"><span class="status-dot active"></span>Ensemble (Voting)</td>
            <td class="metric-val positive">0.863</td>
            <td class="metric-val positive">0.841</td>
            <td class="metric-val positive">0.819</td>
            <td class="metric-val positive">0.830</td>
            <td class="metric-val positive">2.03</td>
            <td class="metric-val negative">-10.2%</td>
            <td class="metric-val positive">71.4%</td>
            <td class="metric-val positive">+2.8%</td>
            <td class="metric-val">12.9%</td>
            <td class="time-val">2m ago</td>
          </tr>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot optional"></span>FinRL-PPO</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val positive">1.84</td>
            <td class="metric-val negative">-15.3%</td>
            <td class="metric-val">—</td>
            <td class="metric-val positive">+3.2%</td>
            <td class="metric-val">18.4%</td>
            <td class="time-val">5m ago</td>
          </tr>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot optional"></span>FinRL-SAC</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val positive">1.92</td>
            <td class="metric-val negative">-13.7%</td>
            <td class="metric-val">—</td>
            <td class="metric-val positive">+3.5%</td>
            <td class="metric-val">17.2%</td>
            <td class="time-val">5m ago</td>
          </tr>
          <tr class="model-row">
            <td class="model-name"><span class="status-dot optional"></span>Qlib-LGB</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">—</td>
            <td class="metric-val">1.67</td>
            <td class="metric-val negative">-18.1%</td>
            <td class="metric-val">—</td>
            <td class="metric-val positive">+2.2%</td>
            <td class="metric-val">19.3%</td>
            <td class="time-val">10m ago</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Feature Importance Rankings -->
    <div class="data-grid-2col">
      <div class="data-panel">
        <div class="panel-header">
          <h3>Top Features (by Importance)</h3>
          <span class="badge">XGBoost</span>
        </div>
        <table class="mini-table">
          <thead>
            <tr><th>Feature</th><th>Importance</th><th>Gain</th><th>Cover</th></tr>
          </thead>
          <tbody>
            <tr><td>RSI_14</td><td class="imp-bar"><div class="bar" style="width: 92%"></div><span>0.234</span></td><td>0.182</td><td>0.091</td></tr>
            <tr><td>MACD_Signal</td><td class="imp-bar"><div class="bar" style="width: 85%"></div><span>0.189</span></td><td>0.156</td><td>0.084</td></tr>
            <tr><td>BB_Width</td><td class="imp-bar"><div class="bar" style="width: 78%"></div><span>0.167</span></td><td>0.142</td><td>0.078</td></tr>
            <tr><td>Volume_MA_Ratio</td><td class="imp-bar"><div class="bar" style="width: 71%"></div><span>0.143</span></td><td>0.128</td><td>0.071</td></tr>
            <tr><td>ATR_Norm</td><td class="imp-bar"><div class="bar" style="width: 65%"></div><span>0.124</span></td><td>0.109</td><td>0.064</td></tr>
            <tr><td>Close_SMA_30_Ratio</td><td class="imp-bar"><div class="bar" style="width: 58%"></div><span>0.108</span></td><td>0.095</td><td>0.058</td></tr>
            <tr><td>Momentum_20</td><td class="imp-bar"><div class="bar" style="width: 52%"></div><span>0.092</span></td><td>0.081</td><td>0.052</td></tr>
            <tr><td>ADX_14</td><td class="imp-bar"><div class="bar" style="width: 46%"></div><span>0.078</span></td><td>0.067</td><td>0.046</td></tr>
          </tbody>
        </table>
      </div>

      <div class="data-panel">
        <div class="panel-header">
          <h3>Monte Carlo Risk Analysis</h3>
          <span class="badge">1000 sims</span>
        </div>
        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-label">VaR (95%)</div>
            <div class="stat-value negative">-2.42%</div>
            <div class="stat-meta">Daily, 1000 sims</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">CVaR (95%)</div>
            <div class="stat-value negative">-3.18%</div>
            <div class="stat-meta">Tail risk</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Max Drawdown</div>
            <div class="stat-value negative">-18.7%</div>
            <div class="stat-meta">Worst scenario</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Sharpe (mean)</div>
            <div class="stat-value positive">1.84 ± 0.32</div>
            <div class="stat-meta">252-day rolling</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Win Probability</div>
            <div class="stat-value">68.3%</div>
            <div class="stat-meta">P(return > 0)</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">Kelly Fraction</div>
            <div class="stat-value">0.23</div>
            <div class="stat-meta">Optimal sizing</div>
          </div>
        </div>
        <table class="mini-table compact">
          <thead>
            <tr><th>Percentile</th><th>Return</th><th>Sharpe</th><th>MaxDD</th></tr>
          </thead>
          <tbody>
            <tr><td>99th</td><td class="positive">+8.4%</td><td>2.81</td><td>-5.2%</td></tr>
            <tr><td>95th</td><td class="positive">+5.2%</td><td>2.34</td><td>-8.1%</td></tr>
            <tr><td>75th</td><td class="positive">+3.1%</td><td>1.92</td><td>-12.4%</td></tr>
            <tr><td>50th (median)</td><td class="positive">+1.8%</td><td>1.67</td><td>-15.8%</td></tr>
            <tr><td>25th</td><td class="negative">-0.2%</td><td>1.34</td><td>-19.3%</td></tr>
            <tr><td>5th</td><td class="negative">-2.8%</td><td>0.89</td><td>-24.7%</td></tr>
            <tr><td>1st</td><td class="negative">-5.4%</td><td>0.42</td><td>-31.2%</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Lopez de Prado Metrics -->
    <div class="data-panel full-width">
      <div class="panel-header">
        <h3>Lopez de Prado Analysis</h3>
        <span class="badge">Triple Barrier + Purged CV</span>
      </div>
      <div class="metrics-inline">
        <div class="inline-metric">
          <span class="metric-label">Fractional Diff (d)</span>
          <span class="metric-value">0.42</span>
        </div>
        <div class="inline-metric">
          <span class="metric-label">Sample Uniqueness</span>
          <span class="metric-value">0.78</span>
        </div>
        <div class="inline-metric">
          <span class="metric-label">Label Entropy</span>
          <span class="metric-value">1.42 bits</span>
        </div>
        <div class="inline-metric">
          <span class="metric-label">Avg Barrier Hit</span>
          <span class="metric-value">3.2 days</span>
        </div>
        <div class="inline-metric">
          <span class="metric-label">Vertical Hits</span>
          <span class="metric-value">23.4%</span>
        </div>
        <div class="inline-metric">
          <span class="metric-label">Meta-Label Acc</span>
          <span class="metric-value positive">0.712</span>
        </div>
      </div>
      <table class="mini-table">
        <thead>
          <tr><th>Label</th><th>Count</th><th>Pct</th><th>Avg Return</th><th>Avg Duration</th><th>Hit Rate</th><th>Sample Weight</th></tr>
        </thead>
        <tbody>
          <tr><td>ACCEPT (1)</td><td>1,247</td><td>42.3%</td><td class="positive">+3.2%</td><td>4.1d</td><td>71.2%</td><td>1.18</td></tr>
          <tr><td>REJECT (-1)</td><td>982</td><td>33.4%</td><td class="negative">-2.8%</td><td>3.8d</td><td>68.4%</td><td>1.24</td></tr>
          <tr><td>BREAK (0)</td><td>713</td><td>24.3%</td><td class="negative">-0.4%</td><td>5.2d</td><td>—</td><td>0.89</td></tr>
        </tbody>
      </table>
    </div>
  </section>

  <section class="uk-container uk-container-large">
    <div class="section-head">
      <h2>ML Tools & Analysis</h2>
      <div class="section-sub">Real-time model outputs and tool status</div>
    </div>
    <div class="ml-tools-grid">
      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">📈</div>
          <div>
            <div class="tool-title">TA-Lib Indicators</div>
            <div class="tool-subtitle">15+ Technical Indicators</div>
          </div>
          <div class="tool-status active">Active</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Indicators</span>
            <span class="metric-value">15</span>
          </div>
          <div class="metric-item">
            <span>Update Freq</span>
            <span class="metric-value">Real-time</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">SMA</span>
          <span class="tool-tag">RSI</span>
          <span class="tool-tag">MACD</span>
          <span class="tool-tag">BB</span>
          <span class="tool-tag">+11</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">🎲</div>
          <div>
            <div class="tool-title">Monte Carlo Sims</div>
            <div class="tool-subtitle">Risk Analysis & VaR</div>
          </div>
          <div class="tool-status active">Active</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Simulations</span>
            <span class="metric-value">1000</span>
          </div>
          <div class="metric-item">
            <span>VaR 95%</span>
            <span class="metric-value">-2.4%</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">Bootstrap</span>
          <span class="tool-tag">Parametric</span>
          <span class="tool-tag">Drawdown</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">🧠</div>
          <div>
            <div class="tool-title">Lopez de Prado</div>
            <div class="tool-subtitle">Triple Barrier & Meta-Labeling</div>
          </div>
          <div class="tool-status active">Active</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Method</span>
            <span class="metric-value">FFD + CPCV</span>
          </div>
          <div class="metric-item">
            <span>Labels</span>
            <span class="metric-value">3-class</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">Fractional Diff</span>
          <span class="tool-tag">Purged K-Fold</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">🤖</div>
          <div>
            <div class="tool-title">Sklearn Ensemble</div>
            <div class="tool-subtitle">RF + XGBoost + LightGBM</div>
          </div>
          <div class="tool-status active">Active</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Models</span>
            <span class="metric-value">6</span>
          </div>
          <div class="metric-item">
            <span>Accuracy</span>
            <span class="metric-value">84.2%</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">RandomForest</span>
          <span class="tool-tag">XGBoost</span>
          <span class="tool-tag">LightGBM</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">🎮</div>
          <div>
            <div class="tool-title">FinRL Agents</div>
            <div class="tool-subtitle">Deep RL Trading</div>
          </div>
          <div class="tool-status optional">Optional</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Algorithms</span>
            <span class="metric-value">5</span>
          </div>
          <div class="metric-item">
            <span>Sharpe</span>
            <span class="metric-value">1.84</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">PPO</span>
          <span class="tool-tag">A2C</span>
          <span class="tool-tag">SAC</span>
          <span class="tool-tag">+2</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">📊</div>
          <div>
            <div class="tool-title">Qlib Strategies</div>
            <div class="tool-subtitle">Quantitative Factor Models</div>
          </div>
          <div class="tool-status optional">Optional</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Factors</span>
            <span class="metric-value">158</span>
          </div>
          <div class="metric-item">
            <span>IC</span>
            <span class="metric-value">0.042</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">Alpha158</span>
          <span class="tool-tag">Alpha101</span>
          <span class="tool-tag">LightGBM</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">💬</div>
          <div>
            <div class="tool-title">FinGPT NLP</div>
            <div class="tool-subtitle">Sentiment & Forecasting</div>
          </div>
          <div class="tool-status optional">Optional</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Model</span>
            <span class="metric-value">FinBERT</span>
          </div>
          <div class="metric-item">
            <span>Sentiment</span>
            <span class="metric-value">+0.32</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">Sentiment</span>
          <span class="tool-tag">NER</span>
          <span class="tool-tag">Forecast</span>
        </div>
      </div>

      <div class="tool-card">
        <div class="tool-header">
          <div class="tool-icon">⚖️</div>
          <div>
            <div class="tool-title">Weight Learning</div>
            <div class="tool-subtitle">Walk-Forward Optimization</div>
          </div>
          <div class="tool-status active">Active</div>
        </div>
        <div class="tool-metrics">
          <div class="metric-item">
            <span>Rules</span>
            <span class="metric-value">247</span>
          </div>
          <div class="metric-item">
            <span>ICIR</span>
            <span class="metric-value">1.23</span>
          </div>
        </div>
        <div class="tool-tags">
          <span class="tool-tag">Purged CV</span>
          <span class="tool-tag">Calibrated</span>
        </div>
      </div>
    </div>
  </section>

  <section class="uk-container uk-container-large">
    <div class="section-head">
      <h2>Top Watchlist</h2>
      <div class="section-actions">
        <input class="uk-input uk-form-small" id="watchlistFilter" type="search" placeholder="Filter tickers or labels" />
        <select class="uk-select uk-form-small" id="watchlistSort">
          <option value="score" selected>Sort: Score</option>
          <option value="accept">Sort: P(accept)</option>
          <option value="ticker">Sort: Ticker</option>
        </select>
        <label class="uk-flex uk-flex-middle gap-6">
          <input class="uk-checkbox" id="denseCards" type="checkbox" />
          <span>Dense</span>
        </label>
        <label class="uk-flex uk-flex-middle gap-6">
          <input class="uk-checkbox" id="compactWeights" type="checkbox" />
          <span>Compact weights</span>
        </label>
        <button class="uk-button uk-button-default uk-button-small" id="clearFilter">Clear</button>
        <div class="section-sub" id="watchlistMeta">Awaiting data…</div>
      </div>
    </div>
    <div class="view-toggle">
      <button class="uk-button uk-button-default uk-button-small active" data-view="grid" id="gridViewBtn">Grid</button>
      <button class="uk-button uk-button-default uk-button-small" data-view="table" id="tableViewBtn">Table</button>
    </div>
    <div class="detail-panel" id="detailPanel">
      <div class="detail-header">
        <div>
          <div class="detail-kicker">Selected Symbol</div>
          <h3 id="detailSymbol">—</h3>
        </div>
        <div class="detail-actions">
          <button class="uk-button uk-button-default uk-button-small" id="detailCopyBtn">Copy</button>
          <a class="uk-button uk-button-primary uk-button-small" id="detailTvBtn" href="#" target="_blank" rel="noreferrer">TradingView</a>
          <div class="detail-score" id="detailScore">—</div>
        </div>
      </div>
      <div class="detail-grid">
        <div class="detail-card">
          <div class="detail-label">Probability</div>
          <div class="detail-value" id="detailProb">—</div>
          <div class="detail-meta" id="detailLabel">—</div>
          <div class="weight-controls">
            <span class="detail-label">Weights</span>
            <select class="uk-select uk-form-small" id="weightsFilter">
              <option value="top" selected>Top (abs)</option>
              <option value="pos">Positive</option>
              <option value="neg">Negative</option>
            </select>
          </div>
          <div class="detail-weights" id="detailWeights"></div>
          <div class="weight-stats" id="detailWeightStats"></div>
        </div>
        <div class="detail-card">
          <div class="detail-label">Engine Signals</div>
          <div class="engine-grid" id="engineGrid"></div>
        </div>
        <div class="detail-card">
          <div class="detail-label">Path Planner</div>
          <div id="scenarioCard" class="scenario-card"></div>
        </div>
        <div class="detail-card">
          <div class="detail-label">Price Chart</div>
          <div class="chart-stack">
            <div class="chart-block">
              <div class="detail-subtitle">TradingView</div>
              <div id="detailChart" class="chart-wrap"></div>
            </div>
            <div class="chart-block">
              <div class="detail-subtitle">Overlay Chart</div>
              <div id="detailOverlayChart" class="chart-wrap overlay-wrap"></div>
              <div class="small-note" id="detailOverlayMeta">Overlay data pending.</div>
              <div class="overlay-summary" id="detailOverlaySummary"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="watchlist-grid" id="watchlistGrid"></div>
    <div class="watchlist-table" id="watchlistTable"></div>
  </section>

  <section class="uk-container uk-container-large news-section">
    <div class="section-head">
      <h2>News Pulse</h2>
      <div class="section-sub" id="newsMeta">Awaiting data…</div>
    </div>
    <div class="news-grid" id="newsGrid"></div>
  </section>

  <section class="uk-container uk-container-large">
    <div class="section-head">
      <h2>Walk-forward</h2>
      <div class="section-sub" id="walkforwardMeta">Awaiting data…</div>
    </div>
    <div class="walkforward-grid" id="walkforwardGrid"></div>
  </section>

  <div id="symbolModal" uk-modal>
    <div class="uk-modal-dialog uk-modal-body symbol-modal">
      <button class="uk-modal-close-default" type="button" id="modalClose" uk-close></button>
      <div class="modal-header">
        <div>
          <div class="modal-kicker">Symbol Detail</div>
          <h3 id="modalSymbol">?</h3>
        </div>
        <div class="modal-score" id="modalScore">?</div>
      </div>
      <div class="modal-grid">
        <div class="modal-panel">
          <div class="modal-label">Probability</div>
          <div class="modal-value" id="modalProb">?</div>
          <div class="modal-meta" id="modalLabel">?</div>
          <div class="modal-weights" id="modalWeights"></div>
        </div>
        <div class="modal-panel">
          <div class="modal-label">Price Chart</div>
          <div id="tvChart" class="chart-wrap"></div>
        </div>
      </div>
    </div>
  </div>

  <footer class="uk-container uk-container-large footer">
    <div>DDL-69 · Supabase Storage + Vercel Static</div>
    <div class="footer-links">
      <span>Static links stay the same URL. Update the JSON behind them for live refresh.</span>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/uikit@3.20.3/dist/js/uikit.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/uikit@3.20.3/dist/js/uikit-icons.min.js"></script>
  <script src="https://unpkg.com/lightweight-charts@4.2.0/dist/lightweight-charts.standalone.production.js"></script>
  <script src="/ui/app.js"></script>
</body>
</html>
